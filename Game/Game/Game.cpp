#include <iostream>
#include <iomanip>
//setw(4)
#include <random>
#include <stdlib.h>
#include <conio.h>
#include <windows.h>
//..
using namespace std;
int x;
int y;
const int w = 20;
const int h = 20;


void seen(char arr[h][w])
{

    system("cls");
    for (int i = 0; i < h; i++)
    {
        for (int j = 0; j < w; j++)
        {

            cout << arr[i][j];

        }
        cout << endl;
    }

}

void coord(char arr[h][w])
{

    for (int i = 0; i < h; i++)
    {
        for (int j = 0; j < w; j++)
        {
            if (arr[i][j] == '@')
            {
                x = j;
                y = i;
            }

        }
    }
    cout << x << " " << y << endl;

}

void enter(char arr[h][w])
{
    char s = _getch();
    int a = 0;
    if (s == 's')
    {
        if (arr[y + 1][x] != '#')
        {
            swap(arr[y][x], arr[y + 1][x]);
            
            seen(arr);
            coord(arr);
        }

    }
    if (s == 'w')
    {
        if (arr[y - 1][x] != '#')
        {
            swap(arr[y][x], arr[y - 1][x]);
            
            seen(arr);
            coord(arr);
        }

    }
    if (s == 'd')
    {
        if (arr[y][x + 1] != '#')
        {
            swap(arr[y][x], arr[y][x + 1]);
            
            seen(arr);
            coord(arr);
        }

    }
    if (s == 'a')
    {
        if (arr[y][x - 1] != '#')
        {
            swap(arr[y][x], arr[y][x - 1]);
            
            seen(arr);
            coord(arr);
        }

    }
    if (s == '8')
    {
        if (arr[y - 1][x] != '#')
        {
            
            arr[y - 1][x] = '#';
            
            seen(arr);
            coord(arr);
        }

    }
    if (s == '2')
    {
        if (arr[y + 1][x] != '#')
        {
            
            arr[y + 1][x] = '#';
            
            seen(arr);
            coord(arr);
        }

    }
    if (s == '4')
    {
        if (arr[y][x - 1] != '#')
        {
            arr[y][x - 1] = '#';
            
            seen(arr);
            coord(arr);
        }

    }
    if (s == '6')
    {
        if (arr[y][x + 1] != '#')
        {
            
            arr[y][x + 1] = '#';
            seen(arr);
            coord(arr);
        }

    }
    




}

int main()
{

    setlocale(LC_ALL, "RU");
    char map[h][w] =
    {
    {'#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#'},
    {'#','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','#'},
    {'#','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','#'},
    {'#','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','#'},
    {'#','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','#'},
    {'#','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','#'},
    {'#','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','#'},
    {'#','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','#'},
    {'#','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','#'},
    {'#','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','#'},
    {'#','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','#'},
    {'#','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','#'},
    {'#','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','#'},
    {'#','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','#'},
    {'#','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','#'},
    {'#','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','#'},
    {'#','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','#'},
    {'#','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','#'},
    {'#','@','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','#'},
    {'#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#'}
    };




    // Инициализируем генератор случайных чисел
    random_device rd;
    mt19937 gen(rd());

    // Определяем диапазон случайных чисел
    int min = 1;
    int max = 10;

    // Создаем распределение случайных чисел
    uniform_int_distribution<> dis(min, max);

    // Генерируем случайное число
    int randomNum = dis(gen);

    seen(map);
    coord(map);
    while (true)
    {

        enter(map);

    }


}
